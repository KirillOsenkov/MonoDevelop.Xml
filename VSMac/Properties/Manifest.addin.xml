<?xml version="1.0" encoding="UTF-8"?>
<ExtensionModel>

	<Extension path="/MonoDevelop/Ide/Composition">
		<Assembly file="MonoDevelop.Xml.Core.dll" />
		<Assembly file="MonoDevelop.Xml.Editor.dll" />
		<Assembly file="MonoDevelop.XmlEditor.dll" />
	</Extension>

		<!-- Commands -->
	<Extension path = "/MonoDevelop/Ide/Commands">
		<Category _name = "Xml Editor" id="XmlEditor">
			<Command id = "MonoDevelop.Xml.Editor.XmlCommands.CreateSchema"
					_label = "Create _Schema"
					description = "Creates a schema from XML"/>
			<Command id = "MonoDevelop.Xml.Editor.XmlCommands.Validate"
					_label = "_Validate"
					description = "Validates the XML against a schema"/>
			<Command id = "MonoDevelop.Xml.Editor.XmlCommands.AssignStylesheet"
					_label = "_Assign XSLT..."
					description = "Assigns a stylesheet to the current xml document"/>
			<Command id = "MonoDevelop.Xml.Editor.XmlCommands.OpenStylesheet"
					_label = "_Open XSLT"
					description = "Opens the assigned stylesheet"/>
			<Command id = "MonoDevelop.Xml.Editor.XmlCommands.RunXslTransform"
					_label = "Run XSL_T"
					description = "Runs an XSL transform"/>
			<Command id = "MonoDevelop.Xml.Editor.XmlCommands.GoToSchemaDefinition"
					_label = "_Go to Schema Definition"
					description = "Jumps to the schema definition"/>
		</Category>
	</Extension>
	
    <Extension path = "/MonoDevelop/TextEditor/CommandMapping">
        <Map id="MonoDevelop.Xml.Editor.XmlCommands.Validate" argsType="Microsoft.VisualStudio.Text.Editor.Commanding.Commands.Xml.ValidateCommandArgs" />
        <Map id="MonoDevelop.Xml.Editor.XmlCommands.CreateSchema" argsType="Microsoft.VisualStudio.Text.Editor.Commanding.Commands.Xml.CreateSchemaCommandArgs" />
        <Map id="MonoDevelop.Xml.Editor.XmlCommands.GoToSchemaDefinition" argsType="Microsoft.VisualStudio.Text.Editor.Commanding.Commands.Xml.GoToSchemaDefinitionCommandArgs" />
        <Map id="MonoDevelop.Xml.Editor.XmlCommands.AssignStylesheet" argsType="Microsoft.VisualStudio.Text.Editor.Commanding.Commands.Xml.AssignStylesheetCommandArgs" />
        <Map id="MonoDevelop.Xml.Editor.XmlCommands.OpenStylesheet" argsType="Microsoft.VisualStudio.Text.Editor.Commanding.Commands.Xml.OpenStylesheetCommandArgs" />
        <Map id="MonoDevelop.Xml.Editor.XmlCommands.RunXslTransform" argsType="Microsoft.VisualStudio.Text.Editor.Commanding.Commands.Xml.RunXslTransformCommandArgs" />
    </Extension>
    
	<!-- XML menu -->
	<Extension path = "/MonoDevelop/Ide/MainMenu/Edit">
		<ItemSet id = "XmlMenu" insertafter = "Insert" _label = "_XML" >
			<CommandItem id = "MonoDevelop.Xml.Editor.XmlCommands.Validate" />
			<SeparatorItem id = "Separator1" />
			<CommandItem id = "MonoDevelop.Xml.Editor.XmlCommands.CreateSchema" />
			<CommandItem id = "MonoDevelop.Xml.Editor.XmlCommands.GoToSchemaDefinition" />
			<SeparatorItem id = "Separator2" />
			<CommandItem id = "MonoDevelop.Xml.Editor.XmlCommands.AssignStylesheet"/>
			<CommandItem id = "MonoDevelop.Xml.Editor.XmlCommands.OpenStylesheet"/>
			<CommandItem id = "MonoDevelop.Xml.Editor.XmlCommands.RunXslTransform"/>
			<SeparatorItem/>
		</ItemSet>
	</Extension>

	<Extension path="/MonoDevelop/Ide/FileTemplates">
		<FileTemplate
			id = "XmlFile"
			file = "Templates/XmlFile.xml" />
	</Extension>
    
    <Runtime>
        <Import file="schemas/appconfig.xsd" />
        <Import file="schemas/readme.txt" />
        <Import file="schemas/XMLSchema.xsd" />
        <Import file="schemas/W3C-License.html" />
        <Import file="schemas/schema-for-xslt20.xsd" />
        <Import file="schemas/manifest.xsd" />
        <Import file="schemas/xml.xsd" />
    </Runtime>
    
    <ExtensionPoint path = "/MonoDevelop/Xml/Editor/XmlFileAssociations">
        <ExtensionNode name = "Association" type = "MonoDevelop.Xml.Editor.XmlFileAssociationNode"/>
    </ExtensionPoint>

    <ExtensionPoint path = "/MonoDevelop/Xml/Editor/XmlSchemas">
        <ExtensionNode name = "Schema" type = "MonoDevelop.Xml.Editor.XmlSchemaNode" />
    </ExtensionPoint>
    
        <!-- Additional file extensions that will be opened in the XML editor -->
    <Extension path = "/MonoDevelop/Xml/Editor/XmlFileAssociations">
        <Association extension = ".config" namespaceUri="urn:app-config" />
        <Association extension = ".manifest" namespaceUri="schemas-microsoft-com:asm.v1" />
        <Association extension = ".xsd"    namespaceUri="http://www.w3.org/2001/XMLSchema" namespacePrefix="xs" />
        <Association extension = ".xsl"    namespaceUri="http://www.w3.org/1999/XSL/Transform" namespacePrefix="xsl" />
        <Association extension = ".xslt"   namespaceUri="http://www.w3.org/1999/XSL/Transform" namespacePrefix="xsl" />
        <Association extension = ".stetic" />
    </Extension>
    
    <Extension path = "/MonoDevelop/Xml/Editor/XmlSchemas">
        <Schema file="schemas/xml.xsd" />
        <Schema file="schemas/XMLSchema.xsd" />
        <Schema file="schemas/schema-for-xslt20.xsd" />
        <Schema file="schemas/appconfig.xsd" />
        <Schema file="schemas/manifest.xsd" />
    </Extension>
    
    <Extension path = "/MonoDevelop/Ide/GlobalOptionsDialog/TextEditor/Behavior">
        <Section id="XmlFormattingOptions" insertbefore="Formatting" _label="XML" fill="true" class="MonoDevelop.Xml.Editor.XmlEditorOptionsPanel" icon="md-prefs-xml" />
    </Extension>
    <Extension path = "/MonoDevelop/Ide/GlobalOptionsDialog/TextEditor">
        <Section id="XmlSchemas" _label="XML Schemas" fill="true" class="MonoDevelop.Xml.Editor.XmlSchemasPanel" icon="md-prefs-xml" />
    </Extension>
    
    <Extension path = "/MonoDevelop/ProjectModel/PolicySets/Mono" >
        <Policies resource="MonoXmlPolicy.xml" />
    </Extension>
    
    <Extension path = "/MonoDevelop/ProjectModel/Gui/MimeTypePolicyPanels">
        <Panel id = "XmlFormatting" _label = "XML Format" mimeType="application/xml" class = "MonoDevelop.Xml.Formatting.XmlFormattingPolicyPanel" />
    </Extension>
    
    <Extension path="/MonoDevelop/Core/StockIcons">
        <StockIcon stockid="md-prefs-xml" resource="prefs-xml-16.png" size="Menu" />
    </Extension>

</ExtensionModel>
